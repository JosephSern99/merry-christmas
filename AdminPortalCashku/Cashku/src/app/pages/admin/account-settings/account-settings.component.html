<div class="listing-popup-page-container">

    <div class="row mb-4">
        <div class="col-8">
            <app-listing-popup-breadcrumb icon="/assets/images/icon_dashboard@2x.png"></app-listing-popup-breadcrumb>
        </div>
    </div>

    <div class="container-fluid">
        <div class="title-agmo-form">
            <h5 class="font-weight-bold font-size-18">Edit Account</h5>
        </div>
        <div class="title-divider"></div>

        <div class="agmo-form" [formGroup]="editForm" [class.show-error]="showFormError">
            <div class="row">
                <div class="col-12">
                    <label>Full Name:</label>
                    <input type="text" class="form-control agmo-input" formControlName="fullName">
                </div>
            </div>

            <div class="mt-3 row">
                <div class="col-6">
                    <label>Email:</label>
                    <input type="text" class="form-control agmo-input" [value]="email" readonly>
                </div>
                <div class="col-6">
                    <label>Phone No.:</label>
                    <div class="container-fluid">
                        <div class="row">
                            <div class="col-5 px-0">
                                <mat-select class="form-control country-code-dropdown" formControlName="countryCode">
                                    <mat-option *ngFor="let country of CountryCode | enumToArray" [value]="country.value">
                                        {{country.label}}</mat-option>
                                </mat-select>
                            </div>
                            <div class="col-7 px-0">
                                <input class="form-control agmo-input" formControlName="phoneNumber" type="number"
                                       placeholder="Mobile Number">
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="mt-3 row d-none">
                <div class="col-12">
                    <label>Appointment Link:</label>
                    <div class="position-relative">
                        <input type="text" class="form-control agmo-input" formControlName="calendlyLink" placeholder="e.g. calendly.com/ahmad">
                        <div class="copy-container" (click)="copyFunction()">
                            <div class="agmo-tooltip" [class.show]="showCopyTooltip">Copied to clipboard</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="mt-3 row">
                <div class="col-12 text-right">
                    <button class="mat-button primary darkblue btn primary-submit-button border-0" type="submit" (click)="submitProfile()">
                        Save
                    </button>
                </div>
            </div>
        </div>

        <div [formGroup]="passwordForm">
            <div class="bottom-container mx-1">
                <div class="row align-items-center">
                    <div class="col-6">
                        <div class="font-weight-bold">Password</div>
                    </div>
                    <div class="col-6 text-right">
                        @if (!isUpdatePassword) {
                            <button class="btn btn-outline-secondary primary-submit-button"
                                    (click)="isUpdatePassword = true">Change</button>
                        }
                    </div>
                </div>

                <div *ngIf="isUpdatePassword" class="agmo-form password-form" [class.show-error]="isPasswordFormError">
                    <div class="row mt-3">
                        <div class="col-6">
                            <label>Old Password:</label>
                            <input type="text" class="form-control agmo-input" formControlName="oldPassword">
                        </div>
                        <div class="col-6">
                            <label>New Password:</label>
                            <input type="text" class="form-control agmo-input" formControlName="newPassword">
                        </div>
                    </div>
                    <div class="mt-3 row">
                        <div class="col-12 text-right">
                            <button mat-button class="secondary red mr-3 font-weight-bold" (click)="isUpdatePassword = true">
                                Cancel
                            </button>
                            <button mat-button class="secondary darkblue font-weight-bold" type="button" (click)="submitNewPassword()">
                                Save
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>
